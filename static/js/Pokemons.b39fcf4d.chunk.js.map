{"version":3,"sources":["components/PokemonCard.tsx","components/CustomAppBar.tsx","components/AppInstall.tsx","components/BaseRoute.tsx","components/PokemonSkeleton.tsx","screens/Pokemons.tsx"],"names":["StyledPokemonCard","styled","div","withRouter","props","data","history","location","React","useContext","MyPokemonContext","isOwned","myPokemons","name","data-testid","onClick","push","pathname","state","prevPath","className","alt","placeholderSrc","src","image_url","effect","filter","pokemon","toLowerCase","length","StyledLink","Link","StyledAppBar","AppBar","StyledToolbar","Toolbar","StyledTypography","Typography","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","CustomAppBar","selectedRoute","MainRouterContext","component","classes","to","label","badgeContent","noWrap","Container","BackContainer","AppInstall","ServiceWorkerContext","isInstallPromptUIShowed","rejectAppInstall","showAppInstallPrompt","Fragment","PosedContainer","posed","active","x","duration","inactive","BaseRoute","isWindowActive","WindowStackContext","appinstall","pose","initialPose","children","margin","PokemonSkeleton","Pokemons","PokemonContext","pokemons","isFetchingPokemons","resetAndFetch","next","hasNext","route","useEffect","gql","dataLength","hasMore","loader","style","overflow","map","d","i","PokemonCard","renderLoading","routes","renderRoutes"],"mappings":"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","file":"static/js/Pokemons.b39fcf4d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport styled from 'styled-components';\r\nimport { MyPokemonContext } from '../contexts/MyPokemonContext';\r\nimport { PokemonListItem } from '../contexts/PokemonContext';\r\nimport { MyPokemonListItem } from '../contexts/MyPokemonContext';\r\n\r\nconst StyledPokemonCard = styled.div`\r\n  display: block;\r\n  border-radius: 20px;\r\n  background: white;\r\n  box-shadow: 0px 0px 10px 0px #e0e0e0;\r\n  margin: 10px;\r\n  margin-top: 20px;\r\n  overflow: hidden;\r\n  max-width: 150px;\r\n  transition: 0.3s;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  border: 1px solid #d4d4d4;\r\n  padding-bottom: 35px;\r\n\r\n  @media only screen and (min-width: 800px) {\r\n    margin: 20px;\r\n    max-width: 192px;    \r\n  }\r\n\r\n  &:active {\r\n    opacity: 0.3;\r\n    transition: 0.03s;\r\n  }\r\n\r\n  .picture {\r\n    height: 80px;\r\n    padding: 10px;\r\n    max-height: 300px;\r\n    width: 145px;\r\n    margin-bottom: 20px;\r\n\r\n    span {\r\n      \r\n      width: 100%;\r\n    }\r\n\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: contain;\r\n      object-position: center;\r\n    }\r\n  }\r\n\r\n  .details {\r\n    display: block;\r\n    padding: 10px;\r\n\r\n    .name {\r\n      font-size: 15pt;\r\n      font-weight: 500;\r\n      margin-bottom: 10px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      word-wrap: break-word;\r\n      white-space: nowrap;\r\n      text-transform: capitalize;\r\n      text-align: center;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .owned {\r\n      color: #fff;\r\n      text-align: center;\r\n      background-color: #3faf48;\r\n      width: 95px;\r\n      margin: auto;\r\n      border-radius: 20px;\r\n      padding: 3px;\r\n    }\r\n\r\n    .nickname {\r\n      text-align: left;\r\n\r\n      .label {\r\n        color: #606060;\r\n        margin-top: 10px;\r\n        font-size: 9pt;\r\n      }\r\n\r\n      .nickname-value {\r\n        font-size: 8pt;\r\n        font-weight: bold;\r\n        color: #0098e1;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport interface Props extends RouteComponentProps {\r\n  data: PokemonListItem | MyPokemonListItem;\r\n}\r\n\r\nconst PokemonCard = (props: Props) => {\r\n  const { data, history, location } = props;\r\n  const { isOwned, myPokemons } = React.useContext(MyPokemonContext);\r\n\r\n  let ownedPokemon: MyPokemonListItem | null = null;\r\n\r\n  if (isOwned) {\r\n    ownedPokemon = isOwned(data.name);\r\n  }\r\n\r\n  return (\r\n    \r\n    <StyledPokemonCard\r\n      data-testid=\"pokemon-card\"\r\n      onClick={() => {\r\n        history.push({\r\n          pathname: `${location.pathname}/${data.name}`,\r\n          state: {\r\n            prevPath: location.pathname,\r\n          },\r\n        });\r\n      }}\r\n    >\r\n      <div className=\"picture\">\r\n        <LazyLoadImage\r\n          alt=\"profile picture\"\r\n          placeholderSrc=\"/images/placeholder.png\"\r\n          src={data.image_url}\r\n          effect=\"blur\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"details\">\r\n        <div data-testid=\"pokemon-card-name\" className=\"name\">\r\n          {data.name}\r\n        </div>\r\n        <div data-testid=\"pokemon-card-owned\" className=\"owned\">\r\n          Owned : {myPokemons.filter(pokemon => pokemon.name.toLowerCase() == data.name.toLowerCase()).length}\r\n        </div>\r\n        {/* {ownedPokemon && (\r\n          <div data-testid=\"pokemon-card-owned\" className=\"owned\">\r\n            Owned\r\n          </div>\r\n        )} */}\r\n        {/* {ownedPokemon && (\r\n          <div className=\"nickname\">\r\n            <div className=\"label\">Nickname</div>\r\n\r\n            <div data-testid=\"pokemon-card-nickname\" className=\"nickname-value\">\r\n              {ownedPokemon.nickname === ''\r\n                ? \"Haven't named\"\r\n                : ownedPokemon.nickname}\r\n            </div>\r\n          </div>\r\n        )} */}\r\n      </div>\r\n    </StyledPokemonCard>\r\n  );\r\n};\r\n\r\nexport default withRouter(PokemonCard);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { MyPokemonContext } from '../contexts/MyPokemonContext';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Pets from '@material-ui/icons/Pets';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport { MainRouterContext } from '../contexts/MainRouterContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst StyledLink = styled(Link)`\r\n  && {\r\n    text-decoration: none;\r\n    color: #3faf48;\r\n  }\r\n`;\r\nconst StyledAppBar = styled(AppBar)`\r\n  && {\r\n    padding: 5px;\r\n    background: #fff;\r\n    color: #3faf48;\r\n    font-weight: 600;\r\n    font-size: 16pt;\r\n    /* border-bottom: 1px solid #dadada; */\r\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n      0px 4px 5px 0px rgba(0, 0, 0, 0), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n`;\r\n\r\nconst StyledToolbar = styled(Toolbar)`\r\n  && {\r\n    justify-content: space-between;\r\n    min-height: 55px;\r\n    min-width: 200px;\r\n\r\n    .info {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      cursor: pointer;\r\n\r\n      &:visited {\r\n        text-decoration: none;\r\n        color: inherit;\r\n      }\r\n\r\n      .title {\r\n        margin-left: 20px;\r\n        font-weight: bold;\r\n        display: flex;\r\n        width: 100px;\r\n      }\r\n    }\r\n    .logo {\r\n      display: none;\r\n      @media only screen and (min-width: 800px) {\r\n        display: block;\r\n      }\r\n    }\r\n    \r\n  }\r\n`;\r\n\r\nconst StyledTypography = styled(Typography)`\r\n  &&{\r\n    font-size: 13pt;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  component?: React.ReactNode;\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst CustomAppBar = (props: Props) => {\r\n  const { selectedRoute } = React.useContext(MainRouterContext);\r\n  const { component } = props;\r\n  const { myPokemons } = React.useContext(MyPokemonContext);\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <StyledAppBar position=\"fixed\">\r\n      \r\n      <StyledToolbar>\r\n        <StyledLink className=\"info\" to=\"/\">\r\n          <div className=\"logo\">\r\n            <span>tokopokemon</span>\r\n          </div>\r\n          {/* <div className=\"tot\">My Pokemon: {myPokemons.length}</div> */}\r\n          <span data-testid=\"appbar-title\" className=\"title\">\r\n            {selectedRoute && selectedRoute.label}\r\n          </span>\r\n        </StyledLink>\r\n\r\n        {component}\r\n        {/* <div>\r\n          <IconButton aria-label=\"show 17 new notifications\" color=\"inherit\">\r\n            Explore\r\n          </IconButton>\r\n          <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              \r\n              My Pokemon\r\n            </Badge>\r\n          </IconButton>\r\n        </div> */}\r\n\r\n{/* <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ 'aria-label': 'search' }}\r\n            />\r\n          </div> */}\r\n\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <StyledLink className=\"info\" to=\"/mypokemons\">\r\n              {/* <IconButton aria-label=\"show 4 new mails\" color=\"inherit\"> */}\r\n                <Badge badgeContent={myPokemons.length} color=\"secondary\">\r\n                  <Pets />\r\n                  <StyledTypography className={classes.title}  noWrap>\r\n                    My Pokemon\r\n                  </StyledTypography>\r\n                </Badge>\r\n              {/* </IconButton> */}\r\n            </StyledLink>\r\n          </div>\r\n      </StyledToolbar>\r\n    </StyledAppBar>\r\n  );\r\n};\r\n\r\nexport default CustomAppBar;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  ServiceWorkerContext,\r\n  DefaultValue,\r\n} from '../contexts/ServiceWorkerContext';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    serviceWorkerContext: DefaultValue;\r\n  }\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px;\r\n  background: #3498db;\r\n  color: white;\r\n  position: fixed;\r\n  top: 56px;\r\n  align-items: center;\r\n  width: 100%;\r\n  z-index: 1300;\r\n\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .close {\r\n      font-size: 37pt;\r\n      line-height: 0;\r\n      cursor: pointer;\r\n      display: flex;\r\n      align-items: center;\r\n      height: 35px;\r\n      width: 35px;\r\n      font-weight: 100;\r\n      margin-top: -10px;\r\n      transition: 0.3s;\r\n\r\n      &:active {\r\n        opacity: 0.3;\r\n        transition: 0.1s;\r\n      }\r\n    }\r\n\r\n    .title {\r\n      font-size: 11pt;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n\r\n  .install-button {\r\n    padding: 10px 20px;\r\n    border-radius: 30px;\r\n    border: 1px solid white;\r\n    transition: 0.3s;\r\n\r\n    &:active {\r\n      opacity: 0.3;\r\n      transition: 0.1s;\r\n    }\r\n  }\r\n`;\r\n\r\nconst BackContainer = styled.div`\r\n  width: 100%;\r\n  height: 60px;\r\n  position: relative;\r\n`;\r\n\r\nconst AppInstall: React.FunctionComponent = () => {\r\n  const {\r\n    isInstallPromptUIShowed,\r\n    rejectAppInstall,\r\n    showAppInstallPrompt,\r\n  } = React.useContext(ServiceWorkerContext);\r\n\r\n  if (!isInstallPromptUIShowed) return <div data-testid=\"appinstall-empty\" />;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Container>\r\n        <div className=\"left\">\r\n          <div\r\n            className=\"close\"\r\n            onClick={() => {\r\n              if (rejectAppInstall) {\r\n                rejectAppInstall();\r\n              }\r\n            }}\r\n          >\r\n            &times;\r\n          </div>\r\n          <div className=\"title\">Keep track of application process</div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"install-button\"\r\n          onClick={() => {\r\n            if (showAppInstallPrompt) showAppInstallPrompt();\r\n          }}\r\n        >\r\n          Install\r\n        </div>\r\n      </Container>\r\n      <BackContainer />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AppInstall;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport posed from 'react-pose';\r\nimport AppInstall from './AppInstall';\r\nimport { ServiceWorkerContext } from '../contexts/ServiceWorkerContext';\r\nimport { WindowStackContext } from '../contexts/WindowStackContext';\r\n\r\nconst Container = styled.div`\r\n  display: block;\r\n  padding-top: 45px;\r\n  height: 100vh;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst PosedContainer = posed(Container)({\r\n  active: { x: 0, transition: { duration: 300 } },\r\n  inactive: { x: -150, transition: { duration: 700 } },\r\n});\r\n\r\nconst BaseRoute = (props: any) => {\r\n  const { isInstallPromptUIShowed } = React.useContext(ServiceWorkerContext);\r\n\r\n  const { isWindowActive } = React.useContext(WindowStackContext);\r\n\r\n  return (\r\n    <PosedContainer\r\n      appinstall={isInstallPromptUIShowed}\r\n      pose={isWindowActive ? 'inactive' : 'active'}\r\n      initialPose=\"active\"\r\n    >\r\n      <AppInstall />\r\n      {props.children}\r\n    </PosedContainer>\r\n  );\r\n};\r\n\r\nexport default BaseRoute;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Skeleton from 'react-loading-skeleton';\r\n\r\nconst Container = styled('div')<{ margin: boolean }>`\r\n  display: block;\r\n  width: 40vw;\r\n  max-height: 300px;\r\n  overflow: hidden;\r\n  margin: ${({ margin }) => (margin ? '10px' : '0px')};\r\n`;\r\n\r\nconst PokemonSkeleton = (props: { margin?: boolean }) => {\r\n  const { margin } = props;\r\n\r\n  return (\r\n    <Container margin={!!margin}>\r\n      <Skeleton width=\"100%\" height=\"40vw\" />\r\n      <Skeleton width=\"100%\" height={50} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PokemonSkeleton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { PokemonContext } from '../contexts/PokemonContext';\r\nimport PokemonCard from '../components/PokemonCard';\r\nimport BaseRoute from '../components/BaseRoute';\r\nimport PokemonSkeleton from '../components/PokemonSkeleton';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport CustomAppBar from '../components/CustomAppBar';\r\nimport { renderRoutes, RouteConfigComponentProps } from 'react-router-config';\r\n\r\nimport { gql, useQuery } from '@apollo/client';\r\n\r\nconst Container = styled.div`\r\n  padding: 15px;\r\n  padding-top: 25px;\r\n  padding-bottom: 70px;\r\n\r\n  .card-wrapper,\r\n  .skeleton-wrapper {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: stretch;\r\n    flex-wrap: wrap;\r\n    background: white;\r\n  }\r\n\r\n  .logo-wrapper {\r\n    display: block;\r\n    border-radius: 20px;\r\n    background: white;\r\n    box-shadow: 1px 1px 60px 0px #00000017;\r\n    margin: 10px auto;\r\n    max-width: 350px;\r\n    transition: 0.3s;\r\n    border: 1px solid #d4d4d4;\r\n    padding: 20px;\r\n\r\n    .logo-pokemon {\r\n      width: 100%;\r\n      height: 100px;\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n      }\r\n    }\r\n\r\n    .total-caught {\r\n      margin-top: 20px;\r\n      text-align: center;\r\n\r\n      .title {\r\n        font-size: 14pt;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Pokemons = (props: RouteConfigComponentProps) => {\r\n  const {\r\n    pokemons,\r\n    isFetchingPokemons,\r\n    resetAndFetch,\r\n    next,\r\n    hasNext,\r\n  } = React.useContext(PokemonContext);\r\n\r\n  const { route } = props;\r\n\r\n  React.useEffect(() => {\r\n    if (resetAndFetch) resetAndFetch();\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const GET_POKEMONS = gql`\r\n  query pokemons($limit: Int, $offset: Int) {\r\n    pokemons(limit: $limit, offset: $offset) {\r\n      count\r\n      next\r\n      previous\r\n      status\r\n      message\r\n      results {\r\n        url\r\n        name\r\n        image\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n  function RenderPokemons() {\r\n    return (\r\n      <InfiniteScroll\r\n        dataLength={pokemons.length} \r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        next={next || (() => {})}\r\n        hasMore={hasNext}\r\n        loader={\r\n          <div className=\"skeleton-wrapper\">\r\n            <PokemonSkeleton margin />\r\n            <PokemonSkeleton margin />\r\n          </div>\r\n        }\r\n        style={{ overflow: 'unset' }}\r\n      >\r\n        <div className=\"card-wrapper\">\r\n          {pokemons.map((d, i) => (\r\n            <PokemonCard key={i} data={d} />\r\n          ))}\r\n        </div>\r\n      </InfiniteScroll>\r\n    );\r\n  }\r\n\r\n  function renderLoading() {\r\n    if (isFetchingPokemons && pokemons.length === 0) {\r\n      return (\r\n        <div className=\"skeleton-wrapper\">\r\n          <PokemonSkeleton margin />\r\n          <PokemonSkeleton margin />\r\n          <PokemonSkeleton margin />\r\n          <PokemonSkeleton margin />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <BaseRoute>\r\n      <CustomAppBar />\r\n      <Container>\r\n        {/* <div className=\"logo-wrapper\">\r\n          <div className=\"logo-pokemon\">\r\n            <img src=\"/logo512.png\" alt=\"\" />\r\n          </div>\r\n          <div className=\"total-caught\">\r\n            <div className=\"title\">Pokemon App</div>\r\n            Total pokemon caught: {myPokemons.length}\r\n          </div>\r\n        </div> */}\r\n        {RenderPokemons()}\r\n        {renderLoading()}\r\n        {route?.routes && renderRoutes(route.routes)}\r\n      </Container>\r\n    </BaseRoute>\r\n  );\r\n};\r\n\r\nexport default Pokemons;\r\n"],"sourceRoot":""}